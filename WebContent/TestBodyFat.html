<!doctype html>
<html>
<head>
	<title>查看健康信息</title>
	<link href="css/style.css" type="text/css" rel="stylesheet" media="all">
	<link href="css/bootstrap.css" type="text/css" rel="stylesheet" media="all">
	<link href="css/component.css" rel="stylesheet" type="text/css"  />
	<!--web-font-->
<!--
	<link href='http://fonts.useso.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>
	<link href='http://fonts.useso.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,700,300,600,800,400' rel='stylesheet' type='text/css'>
-->
	<!--//web-font-->
	<!-- Custom Theme files -->
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content="Volition Responsive web template, Bootstrap Web Templates, Flat Web Templates, Andriod Compatible web template, 
		Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyErricsson, Motorola web design" />
	<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
<!--	<script src="http://ajax.useso.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>-->
	<!-- //Custom Theme files -->
	<!-- js -->
	<script src="js/jquery.min.js"></script>
	<script src="js/modernizr.custom.js"></script>
	<!-- //js -->	
	<!-- start-smoth-scrolling-->
	<script type="text/javascript" src="js/move-top.js"></script>
	<script type="text/javascript" src="js/easing.js"></script>	
	<script type="text/javascript" src="js/modernizr.custom.53451.js"></script>
	<script type="text/javascript">
			jQuery(document).ready(function($) {
				$(".scroll").click(function(event){		
					event.preventDefault();
					$('html,body').animate({scrollTop:$(this.hash).offset().top},1000);
				});
			});
	</script>
	<!--//end-smoth-scrolling-->
	
		<script src="js/modernizr.custom.js"></script>
		

</head>
    <body style="background-color:Silver" class="cbp-spmenu-push">
	<div class="banner">
		<div class="col-md-4" style="margin:0px;padding:0px;background-color:LightSteelBlue;height:508px;">
            <h2>您的健康信息：</h2>
            <div id="information"></div>
		</div>
		<div id="EchartPic" style="height: 400px;" class="col-md-4">
<!--		    <button onclick="getBFR()">计算体脂率</button>-->
		    
        </div>
		<div class="col-md-4 banner-right">
			<div class="top-nav">
				<nav class="cbp-spmenu cbp-spmenu-vertical cbp-spmenu-right" id="cbp-spmenu-s2">
					<h3>Menu</h3>
					<a href="loginIndex.html">主页</a>
					<a href="Login.html">登录注册</a>
					<a href="HealthEat.html">饮食推荐</a>
					<a href="GetCodoon.html">绑定咕咚账号</a>
					<a href="" class="active">查看健康信息</a>
					<a href="SendPlan.html">健身方案推荐</a>
					<a href="ChangeBody.html">修改体测信息</a>
					<a href="actionInstruction.html">健身资料说明库</a>
				</nav>
				<div class="main buttonset">	
						<!-- Class "cbp-spmenu-open" gets applied to menu and "cbp-spmenu-push-toleft" or "cbp-spmenu-push-toright" to the body -->
						<button id="showRightPush"><img src="images/menu-icon.png" alt=""/></button>
						<!--<span class="menu"></span>-->
				</div>
				<script src="js/classie.js"></script>
				<script>
                    var menuRight = document.getElementById( 'cbp-spmenu-s2' ),
                    showRightPush = document.getElementById( 'showRightPush' ),
                    body = document.body;
    
                    showRightPush.onclick = function() {
                        classie.toggle( this, 'active' );
                        classie.toggle( body, 'cbp-spmenu-push-toleft' );
                        classie.toggle( menuRight, 'cbp-spmenu-open' );
                        disableOther( 'showRightPush' );
                    };
    
                    function disableOther( button ) {
                        if( button !== 'showRightPush' ) {
                            classie.toggle( showRightPush, 'disabled' );
                        }
                    }
			    </script>
                <h1>身体信息查询</h1>
                <br>
                <p>体脂率是指人体内脂肪重量在人体总体重中所占的比例，又称体脂百分数，它反映人体内脂肪含量的多少。</p>
                <p class="bnr-top">正常成年人的体脂率分别是男性15%~18%和女性25%~28%。体脂率应保持在正常范围。若体脂率过高，体重超过正常值的20%以上就可视为肥胖。肥胖则表明运动不足、营养过剩或有某种内分泌系统的疾病，而且常会并发高血压、高血脂症、动脉硬化、冠心病、糖尿病、胆囊炎等病症；若体脂率过低，低于体脂含量的安全下限，即男性5%，女性13%~15%，则可能引起功能失调。</p>
			<!-- /script-for-menu -->
            </div>
        </div>
        <div class="clearfix"></div>	
    </div>
	<div class="design">
		<div class="col-md-4 design-left">
			<h3>Jogging<span>Dog</span></h3>
            <div style="padding">
                <img src="images/logo.gif" alt=""/>
            </div>
            <br>
			<span class="my" >A website</span>
			<lable>you can get healthy information</lable>
		</div>
		<div class="col-md-8 design-right">
			<h3><span>留下您宝贵的意见：</span></h3>
			<form>
				<input type="text" value="Your Name" onFocus="this.value = '';" onBlur="if (this.value == '') {this.value = 'Your Name';}" required="">
				<input type="text" value="Your Mail" onFocus="this.value = '';" onBlur="if (this.value == '') {this.value = 'Your Mail';}" required="">
				<textarea type="text"  onfocus="this.value = '';" onBlur="if (this.value == '') {this.value = 'Your Advice ...';}" required="">Your Advice ...</textarea>
				<input type="button" value="Submit" >
			</form>
			<p>Stay Connnected With Us...</p>
			<div class="social-icons">
				<ul>
					<li><a href="#"> </a></li>
					<li><a href="#" class="drbl"> </a></li>
					<li><a href="#" class="twit"> </a></li>
				</ul>
			</div>
		</div>
		<div class="clearfix"> </div>
	</div>
	<!--smooth-scrolling-of-move-up-->
	<script type="text/javascript">
		$(document).ready(function() {
			$().UItoTop({ easingType: 'easeOutQuart' });	
		});
	</script>
	<a href="#" id="toTop" style="display: block;"> <span id="toTopHover" style="opacity: 1;"> </span></a>
	<!--//smooth-scrolling-of-move-up-->
	
    <!--画图的echart.js脚本 -->
    <script src="js/dist/echarts.js"></script>
    <!--画体脂率图像-->
    	
	<script>
        //正确完工
        $(function(){   
            
            $.post("IsOperatedServlet",{},function(data){
                  
                  var list = JSON.parse(data);
                  var inf = list[0];
                  if(inf.haveGodoon == false || inf.haveChange == false){
                      if(list[0].haveGodoon == false){
                           alert("您还没有绑定咕咚账号！请先前往并绑定咕咚账号！"); 
                           window.location.href = "GetCodoon.html";  
                      }else{
                          alert("您还没有初始化您的体测信息！请前往设置！");
                          window.location.href = "ChangeBody.html";
                      }
                  }else{
                       $.post("FJNUServlet",{"page":"TestBodyFat"},function(data){
                            var tempList = JSON.parse(data);
                            var div = $("#information");
                             for(var i=0;i<tempList.length;i++){
                                 var data = tempList[i];
                                 var $p = $("<p style = 'font-size:24px'>" + "尊敬的" +  data.name + "</p>");
                                 var $p1 = $("<p style = 'font-size:24px'>" + "今天行走的总距离：" +  data.distance + "</p>");
                                 var $p2 = $("<p style = 'font-size:24px'>" + "今天行走的总时间：" +  data.time + "</p>");
                                 var $p3 = $("<p style = 'font-size:24px'>" + "今天行走的平均速度：" +  data.speed + "</p>");
                                 var $p4 = $("<p style = 'font-size:24px'>" + "今天消耗的总卡路里：" +  data.power + "</p>");
                                 div.append($p);
                                 div.append($p1);
                                 div.append($p2);
                                 div.append($p3);
                                 div.append($p4);
                                 var sex = data.sex;
                                 var height = data.height;
                                 var weight = data.weight;
                                 var age = data.age;
                                 //alert(sex+"\t"+height+"\t"+weight+"\t"+age);
                                 var BMI = weight / (height / 100) / (height / 100);
                                 var BFR = (1.2 * BMI) + (0.23 * age) - (10.8 * sex) - 5.4;
                                 BMI = BMI.toFixed(2);
                                 BFR = BFR.toFixed(2);
                                 if (sex == 1) {
                                     require.config({
                                         paths: {
                                             echarts: './js/dist'
                                         }
                                     });
                                     require(
                                             [
                                                 'echarts',
                                                 'echarts/chart/gauge'
                                             ],
                                             function (ec) {
                                                 var myChart = ec.init(document.getElementById("EchartPic"));
                                                 var option = {
                                                     tooltip: {
                                                         formatter: "{a} <br/>{b} : {c}%"
                                                     },
                                                     toolbox: {
                                                         show: true,
                                                         feature: {
                                                             mark: {show: true},
                                                             restore: {show: true},
                                                             saveAsImage: {show: true}
                                                         }
                                                     },
                                                     series: [
                                                         {
                                                             name: '体质测试',
                                                             type: 'gauge',
                                                             min: 5,
                                                             max: 30,
                                                             splitNumber: 10,       // 分割段数，默认为5
                                                             axisLine: {            // 坐标轴线
                                                                 lineStyle: {       // 属性lineStyle控制线条样式
                                                                     color: [[0.2, '#48b'], [0.6, '#228b22'], [0.8, '#FF8C00'], [1, '#ff4500']],
                                                                     width: 8
                                                                 }
                                                             },
                                                             axisTick: {            // 坐标轴小标记
                                                                 splitNumber: 10,   // 每份split细分多少段
                                                                 length: 12,        // 属性length控制线长
                                                                 lineStyle: {       // 属性lineStyle控制线条样式
                                                                     color: 'auto'
                                                                 }
                                                             },
                                                             axisLabel: {           // 坐标轴文本标签，详见axis.axisLabel
                                                                 textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
                                                                     color: 'auto'
                                                                 }
                                                             },
                                                             splitLine: {           // 分隔线
                                                                 show: true,        // 默认显示，属性show控制显示与否
                                                                 length: 30,         // 属性length控制线长
                                                                 lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式
                                                                     color: 'auto'
                                                                 }
                                                             },
                                                             pointer: {
                                                                 width: 5
                                                             },
                                                             title: {
                                                                 show: true,
                                                                 offsetCenter: [0, '-40%'],       // x, y，单位px
                                                                 textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
                                                                     fontWeight: 'bolder'
                                                                 }
                                                             },
                                                             detail: {
                                                                 formatter: '{value}%',
                                                                 textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
                                                                     color: 'auto',
                                                                     fontWeight: 'bolder'
                                                                 }
                                                             },
                                                             data: [{value: 0, name: '体脂率\nBFR'}]
                     
                                                         }
                                                     ]
                                                 }
                                                 option.series[0].data[0].value = BFR;
                                                 myChart.setOption(option);
                                             }
                                     );
                                 }
                                 else if (sex == 0) {
                                     require.config({
                                         paths: {
                                             echarts: './js/dist'
                                         }
                                     });
                                     require(
                                             [
                                                 'echarts',
                                                 'echarts/chart/gauge'
                                             ],
                                             function (ec) {
                                                 var myChart = ec.init(document.getElementById("EchartPic"));
                                                 var option = {
                                                     tooltip: {
                                                         formatter: "{a} <br/>{b} : {c}%"
                                                     },
                                                     toolbox: {
                                                         show: true,
                                                         feature: {
                                                             mark: {show: true},
                                                             restore: {show: true},
                                                             saveAsImage: {show: true}
                                                         }
                                                     },
                                                     series: [
                                                         {
                                                             name: '体质测试',
                                                             type: 'gauge',
                                                             min: 15,
                                                             max: 40,
                                                             splitNumber: 10,       // 分割段数，默认为5
                                                             axisLine: {            // 坐标轴线
                                                                 lineStyle: {       // 属性lineStyle控制线条样式
                                                                     color: [[0.2, '#48b'], [0.6, '#228b22'], [0.8, '#FF8C00'], [1, '#ff4500']],
                                                                     width: 8
                                                                 }
                                                             },
                                                             axisTick: {            // 坐标轴小标记
                                                                 splitNumber: 10,   // 每份split细分多少段
                                                                 length: 12,        // 属性length控制线长
                                                                 lineStyle: {       // 属性lineStyle控制线条样式
                                                                     color: 'auto'
                                                                 }
                                                             },
                                                             axisLabel: {           // 坐标轴文本标签，详见axis.axisLabel
                                                                 textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
                                                                     color: 'auto'
                                                                 }
                                                             },
                                                             splitLine: {           // 分隔线
                                                                 show: true,        // 默认显示，属性show控制显示与否
                                                                 length: 30,         // 属性length控制线长
                                                                 lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式
                                                                     color: 'auto'
                                                                 }
                                                             },
                                                             pointer: {
                                                                 width: 5
                                                             },
                                                             title: {
                                                                 show: true,
                                                                 offsetCenter: [0, '-40%'],       // x, y，单位px
                                                                 textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
                                                                     fontWeight: 'bolder'
                                                                 }
                                                             },
                                                             detail: {
                                                                 formatter: '{value}%',
                                                                 textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
                                                                     color: 'auto',
                                                                     fontWeight: 'bolder'
                                                                 }
                                                             },
                                                             data: [{value: 0, name: '体脂率'}]
                     
                                                         }
                                                     ]
                                                 }
                                                 option.series[0].data[0].value = BFR;
                                                 myChart.setOption(option);
                                             }
                                     );
                                 }
                             }
                        }); 
                  }
                  
            });   
        });
    </script>
	
</body>
</html>